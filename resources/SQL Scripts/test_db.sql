DROP DATABASE IF EXISTS `test`;
CREATE DATABASE `test`;

USE `test`;

DROP TABLE IF EXISTS `receipts`;

CREATE TABLE `receipts` (
  `K_Receipt` varchar(100) NOT NULL,
  `K_Member` varchar(100) NOT NULL,
  `Quantity` int DEFAULT NULL,
  `Q_Amount` decimal(20,2) DEFAULT NULL,
  `Q_Discount_Amount` int DEFAULT NULL,
  `T_Receipt` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`K_Receipt`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

LOCK TABLES `receipts` WRITE;
INSERT INTO `receipts` VALUES ('1','Andrea',15,72.00,NULL,'2022-01-01 00:00:00'),('10','Marco',15,87.00,NULL,'2022-01-06 03:00:00'),('11','Marco',6,93.00,NULL,'2022-01-06 04:00:00'),('12','Marco',1,66.00,NULL,'2022-01-06 09:00:00'),('13','Marco',9,58.00,NULL,'2022-01-06 14:00:00'),('14','Andrea',8,97.00,NULL,'2022-01-07 01:00:00'),('15','Francesco',6,85.00,NULL,'2022-01-07 02:00:00'),('16','Andrea',5,68.00,NULL,'2022-01-07 04:00:00'),('17','Marco',6,92.00,NULL,'2022-01-07 07:00:00'),('18','Francesco',14,91.00,NULL,'2022-01-08 09:00:00'),('19','Andrea',7,96.00,NULL,'2022-01-09 12:00:00'),('2','Francesco',7,59.00,NULL,'2022-01-01 07:00:00'),('20','Francesco',3,68.00,NULL,'2022-01-09 16:00:00'),('21','Francesco',12,72.00,NULL,'2022-01-09 21:00:00'),('22','Andrea',6,73.00,NULL,'2022-01-10 08:00:00'),('23','Marco',15,65.00,NULL,'2022-01-10 09:00:00'),('24','Andrea',2,99.00,NULL,'2022-01-10 10:00:00'),('25','Andrea',1,88.00,NULL,'2022-01-10 11:00:00'),('26','Francesco',4,93.00,NULL,'2022-01-11 11:30:00'),('27','Andrea',15,72.00,NULL,'2022-01-11 13:00:00'),('28','Francesco',5,65.00,NULL,'2022-01-12 04:00:00'),('29','Marco',4,99.00,NULL,'2022-01-12 06:00:00'),('3','Francesco',7,62.00,NULL,'2022-01-01 23:00:00'),('30','Marco',15,66.00,NULL,'2022-01-12 11:00:00'),('31','Marco',4,78.00,NULL,'2022-01-12 17:00:00'),('32','Marco',12,67.00,NULL,'2022-01-12 19:00:00'),('33','Francesco',1,99.00,NULL,'2022-01-12 22:00:00'),('34','Francesco',12,52.00,NULL,'2022-01-13 00:00:00'),('35','Andrea',14,88.00,NULL,'2022-01-13 01:00:00'),('36','Andrea',3,86.00,NULL,'2022-01-13 02:00:00'),('37','Marco',4,74.00,NULL,'2022-01-14 03:00:00'),('38','Andrea',15,71.00,NULL,'2022-01-14 04:00:00'),('39','Andrea',5,77.00,NULL,'2022-01-14 05:00:00'),('4','Andrea',10,97.00,NULL,'2022-01-02 00:00:00'),('40','Andrea',10,72.00,NULL,'2022-01-15 07:00:00'),('41','Francesco',8,78.00,NULL,'2022-01-15 08:00:00'),('42','Francesco',10,71.00,NULL,'2022-01-15 09:00:00'),('43','Fabrizio',2,56.00,2,'2022-01-17 02:00:00'),('5','Marco',10,80.00,NULL,'2022-01-02 09:00:00'),('6','Andrea',5,77.00,NULL,'2022-01-02 23:00:00'),('7','Marco',14,85.00,NULL,'2022-01-03 00:00:00'),('8','Fabrizio',2,56.00,2,'2022-01-08 02:00:00'),('9','Marco',3,80.00,NULL,'2022-01-06 02:00:00');
UNLOCK TABLES;

DROP TABLE IF EXISTS `products`;

CREATE TABLE `products` (
  `K_Product` varchar(100) NOT NULL,
  `D_Product` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`K_Product`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

LOCK TABLES `products` WRITE;
INSERT INTO `products` VALUES ('00066f42aeeb9f3007548bb9d3f33c38','perfumaria'),('00088930e925c41fd95ebfe695fd2655','automotivo'),('0009406fd7479715e4bef61dd91f2462','cama_mesa_banho'),('000b8f95fcb9e0096488278317764d19','utilidades_domesticas'),('000d9be29b5207b54e86aa1b1ac54872','relogios_presentes'),('0011c512eb256aa0dbbb544d8dffcf6e','automotivo'),('00126f27c813603687e6ce486d909d01','cool_stuff'),('001795ec6f1b187d37335e1c4704762e','consoles_games'),('001b237c0e9bb435f2e54071129237e9','cama_mesa_banho'),('001b72dfd63e9833e8c02742adf472e3','moveis_decoracao'),('001c5d71ac6ad696d22315953758fa04','cama_mesa_banho'),('00210e41887c2a8ef9f791ebc780cc36','beleza_saude'),('002159fe700ed3521f46cfcf6e941c76','fashion_calcados'),('0021a87d4997a48b6cef1665602be0f5','informatica_acessorios'),('00250175f79f584c14ab5cecd80553cd','utilidades_domesticas'),('002552c0663708129c0019cc97552d7d','cool_stuff'),('002959d7a0b0990fe2d69988affcbc80','moveis_decoracao'),('002af88741ba70c7b5cf4e4a0ad7ef85','cool_stuff'),('002c6dab60557c48cfd6c2222ef7fd76','brinquedos'),('002d4ea7c04739c130bb74d7e7cd1694','pet_shop'),('002ec297b1b00fb9dde7ee6ac24b6771','utilidades_domesticas'),('0030026a6ddb3b2d1d4bc225b4b4c4da','esporte_lazer'),('0030e635639c898b323826589761cf23','ferramentas_jardim'),('003128f981470c3e5a2e7445e4a771cd','esporte_lazer'),('0036bb031e69d915cd384d1b3838b5d3','ferramentas_jardim'),('003938452c98ff9ab28e9e7b4bfe97ab','moveis_sala'),('003962cb74a8b43cf1034fed541a76f0','malas_acessorios'),('003a31970fea14fffe92ac856b8a9b97','casa_construcao'),('003c0b8f6580c850bd2e32044d2ac307','moveis_cozinha_area_de_servico_jantar_e_jardim'),('003dbcabcf8e3231de657c7d9f9a5eba','esporte_lazer'),('004154251837f6ac124ad4374b3a8148','moveis_decoracao'),('0042f1a9a7e0edd1400c6cd0fda065f8','beleza_saude'),('0043c62d00db47eff6a6bc4cf6bfaeda','esporte_lazer'),('0043d1a25ef08fb6f41b8fa6f91742ab','construcao_ferramentas_construcao'),('0044d70d4e53450c0fbb8255446a797b','esporte_lazer'),('004552d98c5d3653af8b4dbe8def0048','moveis_decoracao'),('004636c889c7c3dad6631f136b7fa082','utilidades_domesticas'),('004ffcbfa5aac82212a95bc972ea8a85','moveis_quarto'),('005030ef108f58b46b78116f754d8d38','perfumaria'),('005c6b24cc96dca3e2c01e824401030e','fashion_roupa_masculina'),('0060b415594c5e1200324ef1a18493c4','esporte_lazer'),('00636f9286f69c9f1bdabe76e670fb50','moveis_decoracao'),('006508eabcc19ae52ed87323124ad0e9','construcao_ferramentas_seguranca'),('006619bbed68b000c8ba3f8725d5409e','beleza_saude'),('0067f97995b0c3a86739734dc87ee6b6','fashion_bolsas_e_acessorios'),('006baa9a5b8f95895f15273a35bc2664','esporte_lazer'),('006c67546bfe73c33b83f6bd1ad58c36','automotivo'),('00716e5593e8eea55dbe7a29b72a70bc','fraldas_higiene'),('00738f5a17ec4450e88915357b085c1e','brinquedos'),('0075c14603d80515e20908c156ceb47b','esporte_lazer'),('007c63ae4b346920756b5adcad8095de','utilidades_domesticas'),('0081787b18cce4acc2d1adec4520d7ba','construcao_ferramentas_seguranca'),('0082684bb4a60a862baaf7a60a5845ed',''),('0085dddda27567189f1dfd1eda7c286e','cama_mesa_banho'),('008686d56f4c85b987a4c24a286834c1','cama_mesa_banho'),('00878d953636afec00d3e85d55a12e7f','beleza_saude'),('008b0ec3de3638637099f97add750136','beleza_saude'),('008b51e6be49ee039854b5e35c331b02','relogios_presentes'),('008cff0e5792219fae03e570f980b330','esporte_lazer'),('00905d58c87afcbce21420b3712cacaa','cama_mesa_banho'),('00917855135d67fb060dcd81863166a4','informatica_acessorios'),('0091d85023824de2d33252310c952307','utilidades_domesticas'),('00929aaa7751a77220db9caa1ae6d3ab','utilidades_domesticas'),('0092a9e1c8a471753ed7ffa7eef5086e','beleza_saude'),('00989337a1916a0055eedd1fdb35eb53','moveis_decoracao'),('009af1277432f1a05742df69cdf72d1e','brinquedos'),('009c09f439988bc06a93d6b8186dce73','perfumaria'),('009df2b0bc078648fc4f5898de8cabff','automotivo'),('00a0db09dc7c94d512ec51900141ed69','informatica_acessorios'),('00a8c742ae1da97e9064205459977e6c','informatica_acessorios'),('00a985c524adbb97a4211e4ce17aabec','telefonia'),('00aa70fd749f3b9ce8ca4bc914a9e7b1','moveis_decoracao'),('00ab8a8b9fe219511dc3f178c6d79698',''),('00ae7076313576f94d9107599d79a978','esporte_lazer'),('00b264091d1c8df03976c3f3b176b35c','automotivo'),('00b4155166f994ba9da3cf001eb80505','utilidades_domesticas'),('00b782074a5ec523bf31951b4935d572','telefonia'),('00ba6d766f0b1d7b78a5ce3e1e033263','utilidades_domesticas'),('00baba5b58e274d0332a0c8a0a66f877','perfumaria'),('00bb62ea3729537a687c3fddcd123662','automotivo'),('00bc6e6d4ceb98ec7ed058b0a243a8b9','artigos_de_natal'),('00be617b58175bf207fd35910d5097a4','cama_mesa_banho'),('00c1e6d55fe174bfbb179257255e49bb','cool_stuff'),('00c3e35b00dd00ab864d4a94c1b97e66','perfumaria'),('00c407e056c74eb8040a1233ca6da16f','papelaria'),('00c744ca2f3b0e76ce227b146095d3f9','brinquedos'),('00c794371af4dc7c5b6ba3ef913556bb','telefonia_fixa'),('00cc15e0cef551848c797ab75ba904b1','relogios_presentes'),('00cf06147ed4880ec5fbba2adbb20e1d','livros_interesse_geral'),('00d2add85b1f5aba6bb3d5d977314e25','casa_construcao'),('00d2fa6f2a87633084c8e0400d41a65a','cama_mesa_banho'),('00d363b8c14bb9a6c73febc4c42acf47','consoles_games'),('00d51a45854ebce28acda79f414388ee','utilidades_domesticas');
UNLOCK TABLES;

DROP TABLE IF EXISTS `receipt_lines`;

CREATE TABLE `receipt_lines` (
  `K_Receipt_Line` int NOT NULL AUTO_INCREMENT,
  `K_Receipt` varchar(100) NOT NULL,
  `K_Product` varchar(100) NOT NULL,
  `Quantity` int DEFAULT NULL,
  `Q_Amount` decimal(20,2) DEFAULT NULL,
  `Q_Discount_Amount` int DEFAULT NULL,
  PRIMARY KEY (`K_Receipt_Line`),
  KEY `K_Receipt` (`K_Receipt`),
  KEY `K_Product` (`K_Product`),
  CONSTRAINT `receipt_lines_ibfk_1` FOREIGN KEY (`K_Receipt`) REFERENCES `receipts` (`K_Receipt`),
  CONSTRAINT `receipt_lines_ibfk_2` FOREIGN KEY (`K_Product`) REFERENCES `products` (`K_Product`)
) ENGINE=InnoDB AUTO_INCREMENT=112651 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

LOCK TABLES `receipt_lines` WRITE;
INSERT INTO `receipt_lines` VALUES (1,'1','4244733e06e7ecb4970a6e2683c13e61',1,58.90,NULL),(2,'2','e5f2d52b802189ee658865ca93d83a8f',1,239.90,NULL),(3,'3','c777355d18b72b67abbeef9df44fd0fd',1,199.00,NULL),(4,'4','7634da152a4610f1595efa32f14722fc',1,12.99,NULL),(5,'5','ac6c3623068f30de03045865e4e10089',1,199.90,NULL),(6,'6','ef92defde845ab8450f9d70c526ef70f',1,21.90,NULL),(7,'7','8d4f2bb7e93e6710a28f34fa83ee7d28',1,19.90,NULL),(8,'8','557d850972a7d6f792fd18ae1400d9b6',1,810.00,NULL),(9,'9','310ae3c140ff94b03219ad0adc3c778f',1,145.95,NULL),(10,'10','4535b0e1091c278dfd193e5a1d63b39f',1,53.99,NULL),(11,'11','d63c1011f49d98b976c352955b1c4bea',1,59.99,NULL),(12,'12','f177554ea93259a5b282f24e33f65ab6',1,45.00,NULL),(13,'13','99a4788cb24856965c36a24e339b6058',1,74.00,NULL),(14,'14','368c6c730842d78016ad823897a372db',1,99.80,NULL),(15,'15','368c6c730842d78016ad823897a372db',1,99.80,NULL),(16,'16','8cab8abac59158715e0d70a36c807415',1,99.90,NULL),(17,'17','3f27ac8e699df3d300ec4a5d8c5cf0b2',1,639.00,NULL),(18,'18','4fa33915031a8cde03dd0d3e8fb27f01',1,144.00,NULL),(19,'19','b50c950aba0dcead2c48032a690ce817',1,99.00,NULL),(20,'20','5ed9eaf534f6936b51d0b6c5e4d5c2e9',1,25.00,NULL),(21,'21','553e0e7590d3116a072507a3635d2877',1,47.90,NULL),(22,'22','57d79905de06d8897872c551bfd09358',1,21.99,NULL),(23,'23','1c05e0964302b6cf68ca0d15f326c6ba',1,119.99,NULL),(24,'24','5d7c23067ed3fc8c6e699b9373d5890b',1,49.00,NULL),(25,'25','5a419dbf24a8c9718fe522b81c69f61a',1,48.90,NULL),(26,'26','21b1c2f67a9aafb5af0eb06c13b9dbda',1,219.90,NULL),(27,'27','c389f712c4b4510bc997cee93e8b1a28',1,289.00,NULL),(28,'28','1c0c0093a48f13ba70d0c6b0a9157cb7',1,109.90,NULL),(29,'29','89321f94e35fc6d7903d36f74e351d40',1,27.90,NULL),(30,'30','38afdf723b95d455b418a0f57d623c6b',1,119.90,NULL),(31,'31','672e757f331900b9deea127a2a7b79fd',1,397.00,NULL),(32,'32','28b4eced95a52d9c437a4caf9d311b95',1,59.90,NULL),(33,'33','e95ee6822b66ac6058e2e4aff656071a',1,63.99,NULL),(34,'34','e95ee6822b66ac6058e2e4aff656071a',1,63.99,NULL),(35,'35','e95ee6822b66ac6058e2e4aff656071a',1,63.99,NULL),(36,'36','23365beed316535b4105bd800c46670e',1,16.50,NULL),(37,'37','50fd2b788dc166edd20512370dac54df',1,21.90,NULL),(38,'38','b10eba910a974df70b8a12d0665cdb9e',1,39.00,NULL),(39,'39','4089861a1bd4685da70bddd6b4f974f1',1,49.75,NULL),(40,'40','fe59a1e006df3ac42bf0ceb876d70969',1,809.10,NULL),(41,'41','c6dd917a0be2a704582055949915ab32',1,99.99,NULL),(42,'42','28b4eced95a52d9c437a4caf9d311b95',1,59.90,NULL),(43,'43','0b0172eb0fd18479d29c3bc122c058c2',1,74.67,NULL),(44,'1','0b0172eb0fd18479d29c3bc122c058c2',1,74.67,NULL),(45,'2','0b0172eb0fd18479d29c3bc122c058c2',1,74.67,NULL),(46,'3','dbaee28f4ee64465838a229582d77520',1,54.00,NULL),(47,'4','dbb67791e405873b259e4656bf971246',1,81.99,NULL),(48,'5','84f456958365164420cfc80fbe4c7fab',1,99.00,NULL),(49,'6','e67307ff0f15ade43fcb6e670be7a74c',1,37.98,NULL),(50,'7','e67307ff0f15ade43fcb6e670be7a74c',1,37.98,NULL),(51,'8','30c01cc81c9eb80469371743813789cc',1,38.33,NULL),(52,'9','777d2e438a1b645f3aec9bd57e92672c',1,69.90,NULL),(53,'10','884fa3cd42986ba480ea2f8ae4e25ff7',1,195.00,NULL),(54,'11','bdcf6a834e8faa30dac3886c7a58e92e',1,35.90,NULL),(55,'12','a5341e3f8155dbb3e62323d3ea289729',1,79.50,NULL),(56,'13','e19ddcc85537b41f22116c8d5425ef46',1,29.99,NULL),(57,'14','e6b6e13cf71449a457269f425b89dc74',1,109.90,NULL),(58,'1','13fcfc313dfb2217e5ee3000a702f9ef',1,74.90,NULL),(59,'2','4e3f399366b0047a572b6682f9bb166e',1,14.95,NULL);
UNLOCK TABLES;